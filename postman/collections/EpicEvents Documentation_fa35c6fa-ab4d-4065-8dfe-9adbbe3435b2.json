{
    "info": {
        "_postman_id": "052df2cc-576c-4dda-bb24-b1c3c2c6199e",
        "name": "EpicEvents Documentation",
        "description": "This is a RESTful API designed for an event management company.\n\nThe app allows users to create and update:\n\n*   customer database\n*   contract database linked to customers\n*   event database linked to a specific contract\n    \n\nThe access rights of the API are determined by the 'role' of their users.\n\nThe database is implemented with Django ORM and PostgreSQL\n\n# Administration\n\nThe Django administration site is accessible via [http://127.0.0.1:8000/admin/](https://desktop.postman.com/?desktopVersion=9.15.2&userId=17750814&teamId=2583414).\n\nThis access is possible for all users of the management team.\n\nThey can create/modify/delete all objects related to users, customers, contracts, and events.\n\nNote that managers can also access all CRM endpoints and have the same permissions to interact with all customers, contracts, and events within the limits of the allowed HTTP methods.",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "AUTHENTICATION",
            "item": [
                {
                    "name": "login",
                    "id": "cd4605d4-fdb1-424f-b30b-9a9d3b41d588",
                    "protocolProfileBehavior": {
                        "disableBodyPruning": true
                    },
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "username",
                                    "value": "{{username}}",
                                    "type": "text"
                                },
                                {
                                    "key": "password",
                                    "value": "{{password}}",
                                    "type": "text"
                                }
                            ]
                        },
                        "url": {
                            "raw": "http://127.0.0.1:8000/login/",
                            "protocol": "http",
                            "host": [
                                "127",
                                "0",
                                "0",
                                "1"
                            ],
                            "port": "8000",
                            "path": [
                                "login",
                                ""
                            ]
                        },
                        "description": "This endpoint needs a created user by the management team to work. The management team has to **create a user in Django Admin**.\n\nA user can send a **POST** request to this endpoint. If data is validated by the API, it **returns a JWT Token**. This token will allow you to access all the endpoints of the API. **It has a lifetime of 30 days**. After that period, you will have to refresh it."
                    },
                    "response": []
                }
            ],
            "id": "e1b54bca-870e-4bea-8e52-9511745be173",
            "description": "JWT (JSON Web Token) authentication is used.\n\nUsers are divided into three roles that determine authorized access to the various points of the API:\n\n*   management\n*   sales\n*   support\n    \n\nThe user's role is determined by a Manager via Django admin at the time of creation and can be modified afterward."
        },
        {
            "name": "CRM",
            "item": [
                {
                    "name": "Customers",
                    "item": [
                        {
                            "name": "create a customer",
                            "id": "72232c3e-886f-40ce-a118-8000c448fdd3",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "formdata",
                                    "formdata": [
                                        {
                                            "key": "first_name",
                                            "value": "John",
                                            "description": "string - Required",
                                            "type": "text"
                                        },
                                        {
                                            "key": "last_name",
                                            "value": "Doe",
                                            "description": "string - Required",
                                            "type": "text"
                                        },
                                        {
                                            "key": "email",
                                            "value": "john.doe@gmail.com",
                                            "description": "string - Required",
                                            "type": "text"
                                        },
                                        {
                                            "key": "phone_number",
                                            "value": "0100000000",
                                            "description": "string",
                                            "type": "text"
                                        },
                                        {
                                            "key": "mobile",
                                            "value": "0600000000",
                                            "description": "string",
                                            "type": "text"
                                        },
                                        {
                                            "key": "company_name",
                                            "value": "Apple",
                                            "description": "string",
                                            "type": "text"
                                        },
                                        {
                                            "key": "is_customer",
                                            "value": "False",
                                            "description": "boolean(true=customer, false=prospects, default=False)",
                                            "type": "text"
                                        }
                                    ]
                                },
                                "url": {
                                    "raw": "http://127.0.0.1:8000/crm/customers/",
                                    "protocol": "http",
                                    "host": [
                                        "127",
                                        "0",
                                        "0",
                                        "1"
                                    ],
                                    "port": "8000",
                                    "path": [
                                        "crm",
                                        "customers",
                                        ""
                                    ]
                                },
                                "description": "A management and a sales user are allowed to create prospects and customers.  \nIf the \"is_customer\" field is \"true\". The user is automatically set as the sales contact. Otherwise, the \"sales_contact_id\" is set to null.\n\n## Permissions\n\n*   The user must be connected and has its JWT.\n*   The user must be part of the management or sales role. (# not implemented yet)"
                            },
                            "response": []
                        },
                        {
                            "name": "customers list",
                            "id": "29175a45-c44f-4609-857f-4822f6eec9fe",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "GET",
                                "header": [],
                                "body": {
                                    "mode": "formdata",
                                    "formdata": []
                                },
                                "url": {
                                    "raw": "http://127.0.0.1:8000/crm/customers/",
                                    "protocol": "http",
                                    "host": [
                                        "127",
                                        "0",
                                        "0",
                                        "1"
                                    ],
                                    "port": "8000",
                                    "path": [
                                        "crm",
                                        "customers",
                                        ""
                                    ]
                                },
                                "description": "The user can see the list of all customers. The customers in the returned list depend on the role of the user.\n\n## Permissions\n\n*   The user must be connected with its JWT.\n*   The user must be a member of management, support, or sales role.\n    \n\n## Content\n\nThe customer list displayed depends on the user's role.\n\n*   **management**: every prospect and customer are displayed.\n*   **sales**: every prospect and customer that is attributed to him/her.\n*   **support**: every customer attributed to him/her."
                            },
                            "response": []
                        },
                        {
                            "name": "customers filter list",
                            "id": "7e9861ad-3730-4727-a367-9077416d754b",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "GET",
                                "header": [],
                                "url": {
                                    "raw": "http://127.0.0.1:8000/crm/customers?search=Doe",
                                    "protocol": "http",
                                    "host": [
                                        "127",
                                        "0",
                                        "0",
                                        "1"
                                    ],
                                    "port": "8000",
                                    "path": [
                                        "crm",
                                        "customers"
                                    ],
                                    "query": [
                                        {
                                            "key": "search",
                                            "value": "Doe",
                                            "description": "last_name, first_name, email"
                                        }
                                    ]
                                },
                                "description": "The list of customers can be filtered.\n\n## Permissions\n\n*   The user must be connected with his JWT\n*   The user must be a member of the management, sales, or support role.\n    \n\n## Content\n\nThe result of the filters and/or the search can only be part of the list accessible to the user\n\n## Filters\n\nSearch by: first_name, last_name or email\n\nExample /?search=last_name"
                            },
                            "response": []
                        },
                        {
                            "name": "customer details",
                            "id": "07d28913-bbb1-415d-b88c-a7388648ffa8",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "GET",
                                "header": [],
                                "url": {
                                    "raw": "http://127.0.0.1:8000/crm/customers/:pk/",
                                    "protocol": "http",
                                    "host": [
                                        "127",
                                        "0",
                                        "0",
                                        "1"
                                    ],
                                    "port": "8000",
                                    "path": [
                                        "crm",
                                        "customers",
                                        ":pk",
                                        ""
                                    ],
                                    "variable": [
                                        {
                                            "key": "pk",
                                            "value": "1"
                                        }
                                    ]
                                },
                                "description": "The user can access the customer's details depending on his role.\n\n## Permissions\n\n*   The user must be connected with his JWT\n*   The user must be a member of the management, sales, or support role.\n    \n\n## Content\n\nThe customer is displayed according to the user's role, i.e:\n\n*   **management**: any customer/prospects in the database\n*   **sales**: any prospects or customers assigned to him/her\n*   **support**: any customer assigned to him/her"
                            },
                            "response": []
                        },
                        {
                            "name": "customer updates",
                            "id": "2b3ed2e2-e55c-4448-abb4-d5311e894db4",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "PUT",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\r\n    \"first_name\": \"John\",\r\n    \"last_name\": \"Doe\",\r\n    \"email\": \"JohnDoe@gmail.com\",\r\n    \"phone\": null,\r\n    \"mobile\": null,\r\n    \"company_name\": \"GitHub\",\r\n    \"status\": true\r\n}"
                                },
                                "url": {
                                    "raw": "http://127.0.0.1:8000/crm/customers/:pk/",
                                    "protocol": "http",
                                    "host": [
                                        "127",
                                        "0",
                                        "0",
                                        "1"
                                    ],
                                    "port": "8000",
                                    "path": [
                                        "crm",
                                        "customers",
                                        ":pk",
                                        ""
                                    ],
                                    "variable": [
                                        {
                                            "key": "pk",
                                            "value": "1"
                                        }
                                    ]
                                },
                                "description": "A user from the sales or management role can modify a prospect/customer.\n\nWhen the modified customer is converted (is_customer=true), the connected user is automatically designated as the sales contact of this customer.\n\nIf a customer is converted (is_customer=True), it can only be changed via Django Admin.\n\n## Permissions\n\n*   The user must be connected with his/her JWT.\n*   The user must be a member of the sales or management role.\n    \n\n## Fields\n\nrequired fields: last_names, first_name, email\n\noptional fields: phone, mobile, company_name, is_signed(default=False)"
                            },
                            "response": []
                        },
                        {
                            "name": "customer delete",
                            "id": "00a6f426-79a9-44c2-970a-ffab96eaa9f8",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "DELETE",
                                "header": [],
                                "body": {
                                    "mode": "formdata",
                                    "formdata": []
                                },
                                "url": {
                                    "raw": "http://127.0.0.1:8000/crm/customers/:pk/",
                                    "protocol": "http",
                                    "host": [
                                        "127",
                                        "0",
                                        "0",
                                        "1"
                                    ],
                                    "port": "8000",
                                    "path": [
                                        "crm",
                                        "customers",
                                        ":pk",
                                        ""
                                    ],
                                    "variable": [
                                        {
                                            "key": "pk",
                                            "value": "1"
                                        }
                                    ]
                                },
                                "description": "A user from the sales team or a manager can delete a lead (is_customer= False).\n\n## Permissions\n\n*   The user must be connected with his JWT\n*   The user must be a member of the sales team or a manager\n*   A converted customer cannot be deleted"
                            },
                            "response": []
                        }
                    ],
                    "id": "60eb3cb0-5e73-4494-bdb8-8b86a08f2ab2",
                    "description": "These endpoints group all access to the customers in the database.  \nCustomers can be divided into two groups:\n\n*   potential customers (prospects)\n*   customers (customers)."
                },
                {
                    "name": "Contracts",
                    "item": [
                        {
                            "name": "create_contract",
                            "id": "f9c05e70-997c-4165-baf8-8c19b872d234",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "formdata",
                                    "formdata": [
                                        {
                                            "key": "project_name",
                                            "value": "{{contract_test_project_name}}",
                                            "type": "text"
                                        },
                                        {
                                            "key": "amount",
                                            "value": "{{contract_test_amount}}",
                                            "type": "text"
                                        },
                                        {
                                            "key": "payment_due_date",
                                            "value": "{{contract_test_payment_due_date}}",
                                            "type": "text"
                                        },
                                        {
                                            "key": "is_signed",
                                            "value": "{{contract_test_is_signed}}",
                                            "type": "text"
                                        },
                                        {
                                            "key": "customer",
                                            "value": "{{contract_test_customer}}",
                                            "type": "text"
                                        }
                                    ]
                                },
                                "url": {
                                    "raw": "http://127.0.0.1:8000/crm/contracts/",
                                    "protocol": "http",
                                    "host": [
                                        "127",
                                        "0",
                                        "0",
                                        "1"
                                    ],
                                    "port": "8000",
                                    "path": [
                                        "crm",
                                        "contracts",
                                        ""
                                    ]
                                }
                            },
                            "response": []
                        },
                        {
                            "name": "get_contracts",
                            "id": "9e246638-3234-4434-8dcd-5337c8e9e8fb",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "GET",
                                "header": [],
                                "url": {
                                    "raw": "http://127.0.0.1:8000/crm/contracts/",
                                    "protocol": "http",
                                    "host": [
                                        "127",
                                        "0",
                                        "0",
                                        "1"
                                    ],
                                    "port": "8000",
                                    "path": [
                                        "crm",
                                        "contracts",
                                        ""
                                    ]
                                },
                                "description": "The user can see the list of customer contracts assigned to him/her according to his/her role.\n\n# Permission\n\n*   The user must be connected and have a JWT Token\n\n# Content\n\nThe list of contracts displayed depends on the user's role, i.e:\n\nIf the user has the role 'sales' he can see every contracts where he is the sales contact.\n\nIf the user has the role 'support' he can see every contracts where he is the support contact\n\nIf the user has the role 'management' he can see every contracts in the database."
                            },
                            "response": []
                        },
                        {
                            "name": "get_contract",
                            "id": "825dd76a-1d18-4732-8eb2-0f65476df659",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "GET",
                                "header": [],
                                "url": {
                                    "raw": "http://127.0.0.1:8000/crm/contracts/1/",
                                    "protocol": "http",
                                    "host": [
                                        "127",
                                        "0",
                                        "0",
                                        "1"
                                    ],
                                    "port": "8000",
                                    "path": [
                                        "crm",
                                        "contracts",
                                        "1",
                                        ""
                                    ]
                                }
                            },
                            "response": []
                        },
                        {
                            "name": "put_contract",
                            "id": "785515db-7f53-4699-9fc7-92a2606756fd",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "PUT",
                                "header": []
                            },
                            "response": []
                        },
                        {
                            "name": "delete_contract",
                            "id": "e37b945f-f3a8-4a5b-aebe-d5d6b4c42bc3",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "DELETE",
                                "header": []
                            },
                            "response": []
                        }
                    ],
                    "id": "24b5da16-a05c-40a7-bd02-b2fb81f9d8e3"
                },
                {
                    "name": "Events",
                    "item": [
                        {
                            "name": "create_event",
                            "id": "c196fac6-585b-48aa-a1cf-8554e0fe4cc1",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "POST",
                                "header": [],
                                "url": {
                                    "raw": "http://127.0.0.1:8000/crm/events/",
                                    "protocol": "http",
                                    "host": [
                                        "127",
                                        "0",
                                        "0",
                                        "1"
                                    ],
                                    "port": "8000",
                                    "path": [
                                        "crm",
                                        "events",
                                        ""
                                    ]
                                }
                            },
                            "response": []
                        },
                        {
                            "name": "get_events",
                            "id": "c378d312-8c0e-4db5-a94c-251fbf66ecac",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "GET",
                                "header": [],
                                "url": {
                                    "raw": "http://127.0.0.1:8000/crm/events/1",
                                    "protocol": "http",
                                    "host": [
                                        "127",
                                        "0",
                                        "0",
                                        "1"
                                    ],
                                    "port": "8000",
                                    "path": [
                                        "crm",
                                        "events",
                                        "1"
                                    ]
                                }
                            },
                            "response": []
                        },
                        {
                            "name": "get_event",
                            "id": "31e4530d-65e0-43a0-ab3d-926962a0dd27",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "GET",
                                "header": []
                            },
                            "response": []
                        },
                        {
                            "name": "put_event",
                            "id": "ffe88f34-5a40-450d-8981-f9e9fe120434",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "PUT",
                                "header": []
                            },
                            "response": []
                        },
                        {
                            "name": "delete_event",
                            "id": "7a6fa36b-3355-458a-80aa-03adefd0d819",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "DELETE",
                                "header": []
                            },
                            "response": []
                        }
                    ],
                    "id": "68fbeed0-58ee-4f08-8815-c4696d2e0dd0"
                }
            ],
            "id": "df10d1ca-6a38-49e8-9628-96659d58b483",
            "description": "To access the API, you will first need to have a JWT. Please contact a user from the management 'role' to create you a user account and give you access to the API.\n\nThe CRM part of the API gives you access to Customers, Contracts and Events endpoints.\n\nWe will give you more details for each endpoints"
        }
    ],
    "auth": {
        "type": "bearer",
        "bearer": [
            {
                "key": "token",
                "value": "{{token}}",
                "type": "string"
            }
        ]
    },
    "event": [
        {
            "listen": "prerequest",
            "script": {
                "id": "cff8ef4e-f6b8-441b-ab01-278666717fa5",
                "type": "text/javascript",
                "exec": [
                    ""
                ]
            }
        },
        {
            "listen": "test",
            "script": {
                "id": "11f36025-37a0-4611-a345-243511e240ce",
                "type": "text/javascript",
                "exec": [
                    ""
                ]
            }
        }
    ],
    "variable": [
        {
            "id": "d08c9fcf-83ef-496d-b740-520762dfe051",
            "key": "baseUrl",
            "value": "{{baseUrl}}",
            "type": "string"
        }
    ]
}