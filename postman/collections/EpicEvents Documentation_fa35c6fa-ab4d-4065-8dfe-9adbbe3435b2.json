{
    "info": {
        "_postman_id": "052df2cc-576c-4dda-bb24-b1c3c2c6199e",
        "name": "EpicEvents Documentation",
        "description": "This is a RESTful API designed for an event management company.\n\nThe app allows users to create and update:\n\n*   customer database\n*   contract database linked to customers\n*   event database linked to a specific contract\n    \n\nThe access rights of the API are determined by the 'role' of their users.\n\nThe database is implemented with Django ORM and PostgreSQL\n\n# Administration\n\nThe Django administration site is accessible via [http://127.0.0.1:8000/admin/](http://127.0.0.1:8000/admin/).\n\nThis access is possible for all users of the management team.\n\nThey can create / modify / delete all objects related to users, customers, contracts and events.\n\nNote that managers can also access all CRM endpoints and have the same permissions to interact with all customers, contracts and events, within the limits of the allowed HTTP methods.",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "AUTHENTICATION",
            "item": [
                {
                    "name": "login",
                    "id": "cd4605d4-fdb1-424f-b30b-9a9d3b41d588",
                    "protocolProfileBehavior": {
                        "disableBodyPruning": true
                    },
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "username",
                                    "value": "{{username}}",
                                    "type": "text"
                                },
                                {
                                    "key": "password",
                                    "value": "{{password}}",
                                    "type": "text"
                                }
                            ]
                        },
                        "url": {
                            "raw": "http://127.0.0.1:8000/login/",
                            "protocol": "http",
                            "host": [
                                "127",
                                "0",
                                "0",
                                "1"
                            ],
                            "port": "8000",
                            "path": [
                                "login",
                                ""
                            ]
                        },
                        "description": "This endpoint needs a created user by the management team to work.  \nThe management team has to **create a user in Django Admin**.\n\nA user can send a **POST** request to this endpoint. If the data entered is validated by the API then it **returns a JWT Token**.  \nThis token will allow you to access all the endpoints of the API. **It has a lifetime of 30 days**.  \nAfter that period, you will have to refresh it."
                    },
                    "response": []
                }
            ],
            "id": "e1b54bca-870e-4bea-8e52-9511745be173",
            "description": "JWT (JSON Web Token) authentication is used.\n\nUsers are divided into three roles that determine authorized access to the various points of the API:\n\n*   management\n*   sales\n*   support\n    \n\n  \nThe user's role is determined by a Manager via Django admin at the time of creation, and can be modified afterwards."
        },
        {
            "name": "CRM",
            "item": [
                {
                    "name": "Customers",
                    "item": [
                        {
                            "name": "Customers",
                            "item": [
                                {
                                    "name": "create_customer",
                                    "id": "72232c3e-886f-40ce-a118-8000c448fdd3",
                                    "protocolProfileBehavior": {
                                        "disableBodyPruning": true
                                    },
                                    "request": {
                                        "method": "POST",
                                        "header": [],
                                        "body": {
                                            "mode": "formdata",
                                            "formdata": [
                                                {
                                                    "key": "first_name",
                                                    "value": "{{customer_test_first_name}}",
                                                    "type": "text"
                                                },
                                                {
                                                    "key": "last_name",
                                                    "value": "{{customer_test_last_name}}",
                                                    "type": "text"
                                                },
                                                {
                                                    "key": "email",
                                                    "value": "{{customer_test_email}}",
                                                    "type": "text"
                                                },
                                                {
                                                    "key": "phone_number",
                                                    "value": "{{customer_test_phone_number}}",
                                                    "type": "text"
                                                },
                                                {
                                                    "key": "mobile",
                                                    "value": "{{customer_test_mobile}}",
                                                    "type": "text"
                                                },
                                                {
                                                    "key": "company_name",
                                                    "value": "{{customer_test_company}}",
                                                    "type": "text"
                                                },
                                                {
                                                    "key": "is_customer",
                                                    "value": "{{customer_test_is_customer}}",
                                                    "type": "text"
                                                }
                                            ]
                                        },
                                        "url": {
                                            "raw": "http://127.0.0.1:8000/crm/customers/",
                                            "protocol": "http",
                                            "host": [
                                                "127",
                                                "0",
                                                "0",
                                                "1"
                                            ],
                                            "port": "8000",
                                            "path": [
                                                "crm",
                                                "customers",
                                                ""
                                            ]
                                        },
                                        "description": "A user from the management or sales team can create a prospect or a customer.\n\nIf the customer created has the field \"is_customer\" set to true, the user that created the new customer is automatically set as the sales contact.\n\nIf the field \"is_customer\" is set to False, the \"sales_contact_id\" is set to null."
                                    },
                                    "response": []
                                },
                                {
                                    "name": "get_customers",
                                    "id": "29175a45-c44f-4609-857f-4822f6eec9fe",
                                    "protocolProfileBehavior": {
                                        "disableBodyPruning": true
                                    },
                                    "request": {
                                        "method": "GET",
                                        "header": [],
                                        "body": {
                                            "mode": "formdata",
                                            "formdata": []
                                        },
                                        "url": {
                                            "raw": "http://127.0.0.1:8000/crm/customers/",
                                            "protocol": "http",
                                            "host": [
                                                "127",
                                                "0",
                                                "0",
                                                "1"
                                            ],
                                            "port": "8000",
                                            "path": [
                                                "crm",
                                                "customers",
                                                ""
                                            ]
                                        },
                                        "description": "The user can see the list of all customers. The customers in the returned list depends on the role of the user.\n\n# Content\n\n*   If the user has the role \"management\" he can see every customers in the DB.\n*   if the user has the role \"sales\" he can see every prospects + customers that are related to him.\n*   if the user has the role \"support\", he can see every customers that are related to him."
                                    },
                                    "response": []
                                }
                            ],
                            "id": "60eb3cb0-5e73-4494-bdb8-8b86a08f2ab2"
                        },
                        {
                            "name": "Cutomer Details",
                            "item": [
                                {
                                    "name": "get_customer",
                                    "id": "07d28913-bbb1-415d-b88c-a7388648ffa8",
                                    "protocolProfileBehavior": {
                                        "disableBodyPruning": true
                                    },
                                    "request": {
                                        "method": "GET",
                                        "header": [],
                                        "url": {
                                            "raw": "http://127.0.0.1:8000/crm/customers/2/",
                                            "protocol": "http",
                                            "host": [
                                                "127",
                                                "0",
                                                "0",
                                                "1"
                                            ],
                                            "port": "8000",
                                            "path": [
                                                "crm",
                                                "customers",
                                                "2",
                                                ""
                                            ]
                                        },
                                        "description": "The user can access the customers details depending on his role."
                                    },
                                    "response": []
                                },
                                {
                                    "name": "put_customer",
                                    "id": "2b3ed2e2-e55c-4448-abb4-d5311e894db4",
                                    "protocolProfileBehavior": {
                                        "disableBodyPruning": true
                                    },
                                    "request": {
                                        "method": "PUT",
                                        "header": [],
                                        "body": {
                                            "mode": "formdata",
                                            "formdata": [
                                                {
                                                    "key": "first_name",
                                                    "value": "{{customer_test_first_name}}",
                                                    "type": "text"
                                                },
                                                {
                                                    "key": "last_name",
                                                    "value": "{{customer_test_last_name}}",
                                                    "type": "text"
                                                },
                                                {
                                                    "key": "email",
                                                    "value": "{{customer_test_email}}",
                                                    "type": "text"
                                                },
                                                {
                                                    "key": "phone_number",
                                                    "value": "{{customer_test_phone_number}}",
                                                    "type": "text"
                                                },
                                                {
                                                    "key": "mobile",
                                                    "value": "{{customer_test_mobile}}",
                                                    "type": "text"
                                                },
                                                {
                                                    "key": "company_name",
                                                    "value": "{{customer_test_company}}",
                                                    "type": "text"
                                                },
                                                {
                                                    "key": "is_customer",
                                                    "value": "{{customer_test_is_customer}}",
                                                    "type": "text",
                                                    "disabled": true
                                                }
                                            ]
                                        },
                                        "url": {
                                            "raw": "http://127.0.0.1:8000/crm/customers/2/",
                                            "protocol": "http",
                                            "host": [
                                                "127",
                                                "0",
                                                "0",
                                                "1"
                                            ],
                                            "port": "8000",
                                            "path": [
                                                "crm",
                                                "customers",
                                                "2",
                                                ""
                                            ]
                                        }
                                    },
                                    "response": []
                                },
                                {
                                    "name": "delete_customer",
                                    "id": "00a6f426-79a9-44c2-970a-ffab96eaa9f8",
                                    "protocolProfileBehavior": {
                                        "disableBodyPruning": true
                                    },
                                    "request": {
                                        "method": "DELETE",
                                        "header": [],
                                        "body": {
                                            "mode": "formdata",
                                            "formdata": []
                                        },
                                        "url": {
                                            "raw": "http://127.0.0.1:8000/crm/customers/13/",
                                            "protocol": "http",
                                            "host": [
                                                "127",
                                                "0",
                                                "0",
                                                "1"
                                            ],
                                            "port": "8000",
                                            "path": [
                                                "crm",
                                                "customers",
                                                "13",
                                                ""
                                            ]
                                        },
                                        "description": "A user from the 'management' or 'sales' roles can delete a customer from the database."
                                    },
                                    "response": []
                                }
                            ],
                            "id": "05f6e124-f2f8-4664-b319-acf154810e1d"
                        }
                    ],
                    "id": "04a5212d-748e-45d4-b672-bdb92d4c18c8"
                },
                {
                    "name": "Contracts",
                    "item": [
                        {
                            "name": "contract_list",
                            "id": "f9c05e70-997c-4165-baf8-8c19b872d234",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "GET",
                                "header": [],
                                "url": {
                                    "raw": "http://127.0.0.1:8000/crm/contracts/",
                                    "protocol": "http",
                                    "host": [
                                        "127",
                                        "0",
                                        "0",
                                        "1"
                                    ],
                                    "port": "8000",
                                    "path": [
                                        "crm",
                                        "contracts",
                                        ""
                                    ]
                                }
                            },
                            "response": []
                        },
                        {
                            "name": "contract_detail",
                            "id": "825dd76a-1d18-4732-8eb2-0f65476df659",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "GET",
                                "header": [],
                                "url": {
                                    "raw": "http://127.0.0.1:8000/crm/contracts/1",
                                    "protocol": "http",
                                    "host": [
                                        "127",
                                        "0",
                                        "0",
                                        "1"
                                    ],
                                    "port": "8000",
                                    "path": [
                                        "crm",
                                        "contracts",
                                        "1"
                                    ]
                                }
                            },
                            "response": []
                        }
                    ],
                    "id": "c4d313e5-b43c-4445-bce9-f8a850ac5ae1"
                },
                {
                    "name": "Events",
                    "item": [
                        {
                            "name": "event_list",
                            "id": "c196fac6-585b-48aa-a1cf-8554e0fe4cc1",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "GET",
                                "header": [],
                                "url": {
                                    "raw": "http://127.0.0.1:8000/crm/events/",
                                    "protocol": "http",
                                    "host": [
                                        "127",
                                        "0",
                                        "0",
                                        "1"
                                    ],
                                    "port": "8000",
                                    "path": [
                                        "crm",
                                        "events",
                                        ""
                                    ]
                                }
                            },
                            "response": []
                        },
                        {
                            "name": "event_detail",
                            "id": "c378d312-8c0e-4db5-a94c-251fbf66ecac",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "method": "GET",
                                "header": [],
                                "url": {
                                    "raw": "http://127.0.0.1:8000/crm/events/1",
                                    "protocol": "http",
                                    "host": [
                                        "127",
                                        "0",
                                        "0",
                                        "1"
                                    ],
                                    "port": "8000",
                                    "path": [
                                        "crm",
                                        "events",
                                        "1"
                                    ]
                                }
                            },
                            "response": []
                        }
                    ],
                    "id": "e5c86c5a-da3f-4f3b-85ee-388957b8035a"
                }
            ],
            "id": "df10d1ca-6a38-49e8-9628-96659d58b483"
        }
    ],
    "auth": {
        "type": "bearer",
        "bearer": [
            {
                "key": "token",
                "value": "{{token}}",
                "type": "string"
            }
        ]
    },
    "event": [
        {
            "listen": "prerequest",
            "script": {
                "id": "cff8ef4e-f6b8-441b-ab01-278666717fa5",
                "type": "text/javascript",
                "exec": [
                    ""
                ]
            }
        },
        {
            "listen": "test",
            "script": {
                "id": "11f36025-37a0-4611-a345-243511e240ce",
                "type": "text/javascript",
                "exec": [
                    ""
                ]
            }
        }
    ],
    "variable": [
        {
            "id": "ebc8818f-e721-4652-80c7-a914b5b60106",
            "key": "baseUrl",
            "value": "{{baseUrl}}",
            "type": "string"
        }
    ]
}